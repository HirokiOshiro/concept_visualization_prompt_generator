<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¦‚å¿µå¯è¦–åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã‚¢ãƒ—ãƒª</title>
    <style>
        :root {
            --primary-color: #4a5568;
            --secondary-color: #2d374851;
            --accent-color: #3182ce;
            --success-color: #38a169;
            --warning-color: #d69e2e;
            --bg-color: #f7fafc;
            --card-bg: #ffffff;
            --text-dark: #2d3748;
            --text-muted: #718096;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--bg-color) 0%, #edf2f7 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .app-title {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .app-subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }

        .wizard-container {
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .progress-bar {
            height: 6px;
            background: var(--border-color);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            width: 20%;
            transition: var(--transition);
        }

        .step-container {
            padding: 3rem;
        }

        .step-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .step-description {
            color: var(--text-muted);
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background: #fff;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .checkbox-item:hover {
            background: #e9ecef;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary-color);
        }

        .tag-input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tag {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .tag-remove {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
            line-height: 1;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(74, 85, 104, 0.3);
        }

        .btn-secondary {
            background: var(--border-color);
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .prompt-output {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            padding: 2rem;
            border-radius: 15px;
            color: white;
            margin-top: 2rem;
        }

        .prompt-text {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .copy-button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
            transition: var(--transition);
        }

        .copy-button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .example-concepts {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .example-card {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .example-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 85, 104, 0.3);
        }

        .example-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .example-description {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .hidden {
            display: none;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .demo-section {
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 3rem;
            position: relative;
        }

        .demo-header {
            padding: 2.5rem 3rem 1.5rem;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            color: white;
        }

        .demo-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
        }

        .demo-description {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.5;
        }

        .demo-content {
            position: relative;
            background: #f8f9fa;
        }

        .demo-iframe {
            width: 100%;
            height: 500px;
            border: none;
            display: block;
            background: white;
        }

        .demo-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            color: var(--text-muted);
        }

        .demo-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .demo-controls {
            padding: 1.5rem 3rem;
            background: var(--card-bg);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .demo-info {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-align: center;
        }

        .demo-badge {
            display: inline-block;
            background: linear-gradient(45deg, var(--success-color), #48bb78);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-left: 1rem;
        }

        .icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .step-container {
                padding: 2rem 1.5rem;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 1rem;
            }

            .example-concepts {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
            }

            .example-card {
                padding: 1rem;
            }

            /* å®Ÿä¾‹ãƒ‡ãƒ¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
            .demo-header {
                padding: 2rem 1.5rem 1.5rem;
            }

            .demo-title {
                font-size: 1.5rem;
            }

            .demo-description {
                font-size: 1rem;
            }

            .demo-iframe {
                height: 400px;
            }

            .demo-controls {
                padding: 1rem 1.5rem;
                flex-direction: column;
                text-align: center;
            }

            .demo-info {
                font-size: 0.8rem;
            }

            .demo-badge {
                margin: 0.5rem 0 0 0;
            }
        }

        @media (max-width: 480px) {
            .example-concepts {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .example-card {
                padding: 0.8rem;
            }

            /* ã•ã‚‰ã«å°ã•ãªç”»é¢ã§ã®å®Ÿä¾‹ãƒ‡ãƒ¢å¯¾å¿œ */
            .demo-header {
                padding: 1.5rem 1rem;
            }

            .demo-title {
                font-size: 1.3rem;
            }

            .demo-description {
                font-size: 0.9rem;
                line-height: 1.4;
            }

            .demo-iframe {
                height: 300px;
            }

            .demo-controls {
                padding: 0.8rem 1rem;
            }

            .demo-info {
                font-size: 0.75rem;
                line-height: 1.4;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="app-title">æ¦‚å¿µå¯è¦–åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆå™¨</h1>
            <p class="app-subtitle">æŠ½è±¡çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚„æ¦‚å¿µã‚’å‹•çš„ãªã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã§å¯è¦–åŒ–ã™ã‚‹ãŸã‚ã®ç”ŸæˆAIç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å‡ºåŠ›ã§ãã¾ã™</p>
        </div>

        <!-- å®Ÿä¾‹ãƒ‡ãƒ¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="demo-section fade-in">
            <div class="demo-header">
                <h2 class="demo-title">ç”Ÿæˆçµæœã®å®Ÿä¾‹</h2>
                <p class="demo-description">
                    ã“ã®ãƒ„ãƒ¼ãƒ«ã§ç”Ÿæˆã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ã£ã¦ä½œæˆã•ã‚ŒãŸã€Œå‰µé€ æ€§ã€ã®å¯è¦–åŒ–ä¾‹ã€‚
                    ãƒã‚¦ã‚¹æ“ä½œã§ãƒãƒ¼ãƒ‰ã‚’æ¢ç´¢ã—ã€æ¥ç¶šã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§å‰µé€ ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä½“é¨“ã§ãã¾ã™ã€‚
                    <span class="demo-badge">ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–</span>
                </p>
            </div>
            <div class="demo-content">
                <div class="demo-loading" id="demoLoading">
                    <div class="demo-spinner"></div>
                    <span>å®Ÿä¾‹ã‚’èª­ã¿è¾¼ã¿ä¸­...</span>
                </div>
                <iframe 
                    id="demoIframe"
                    class="demo-iframe" 
                    src="./creativity_visualization.html"
                    title="å‰µé€ æ€§å¯è¦–åŒ–ã®å®Ÿä¾‹"
                    loading="lazy"
                    sandbox="allow-scripts allow-same-origin allow-pointer-lock"
                    onload="hideLoadingSpinner()"
                    onerror="handleDemoError()"
                    style="opacity: 0; transition: opacity 0.3s ease;">
                </iframe>
            </div>
            <div class="demo-controls">
                <div class="demo-info">
                    ğŸ’¡ <strong>æ“ä½œæ–¹æ³•:</strong> ãƒã‚¦ã‚¹ç§»å‹•ã§æ¢ç´¢ã€ã‚¯ãƒªãƒƒã‚¯ã§æ¥ç¶šç”Ÿæˆã€é•·æŠ¼ã—ã§ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å½¢æˆ
                </div>
            </div>
        </div>

        <div class="wizard-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—1: æ¦‚å¿µã®å®šç¾© -->
            <div class="step-container fade-in" id="step1">
                <h2 class="step-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                    </svg>
                    ã‚¹ãƒ†ãƒƒãƒ— 1: æ¦‚å¿µã‚’å®šç¾©ã™ã‚‹
                </h2>
                <p class="step-description">å¯è¦–åŒ–ã—ãŸã„æ¦‚å¿µã‚„æŠ½è±¡çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>

                <div class="form-group">
                    <label class="form-label">ãƒ¡ã‚¤ãƒ³ã¨ãªã‚‹æ¦‚å¿µãƒ»ãƒ†ãƒ¼ãƒ</label>
                    <input type="text" class="form-input" id="mainConcept" placeholder="ä¾‹: æ„›ã€è‡ªç”±ã€æ™‚é–“ã€å‰µé€ æ€§ã€èª¿å’Œ...">
                </div>

                <div class="form-group">
                    <label class="form-label">æ¦‚å¿µã®è©³ç´°èª¬æ˜</label>
                    <textarea class="form-textarea" id="conceptDescription" placeholder="ã“ã®æ¦‚å¿µã«ã¤ã„ã¦ã€ã‚ãªãŸãŒã©ã®ã‚ˆã†ã«ç†è§£ã—ã€æ„Ÿã˜ã¦ã„ã‚‹ã‹ã‚’è‡ªç”±ã«è¨˜è¿°ã—ã¦ãã ã•ã„..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">ã¾ãŸã¯ã€ä»¥ä¸‹ã®ä¾‹ã‹ã‚‰é¸æŠã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</label>
                    <div class="example-concepts">
                        <div class="example-card" data-concept="æˆé•·" data-description="ç¨®ã‹ã‚‰æœ¨ã¸ã€å­¦ç¿’ã‹ã‚‰ç¿’å¾—ã¸ã€æ®µéšçš„ãªå¤‰åŒ–ã¨ç™ºå±•ã®ãƒ—ãƒ­ã‚»ã‚¹">
                            <div class="example-title">æˆé•·</div>
                            <div class="example-description">æ®µéšçš„å¤‰åŒ–ã¨ç™ºå±•</div>
                        </div>
                        <div class="example-card" data-concept="èª¿å’Œ" data-description="ç•°ãªã‚‹è¦ç´ ãŒç¾ã—ãçµåˆã—ã€ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¡ãªãŒã‚‰ä¸€ã¤ã®å®Œå…¨ãªå½¢ã‚’ä½œã‚Šå‡ºã™çŠ¶æ…‹">
                            <div class="example-title">èª¿å’Œ</div>
                            <div class="example-description">ãƒãƒ©ãƒ³ã‚¹ã¨çµ±åˆ</div>
                        </div>
                        <div class="example-card" data-concept="è‡ªç”±" data-description="åˆ¶ç´„ã‹ã‚‰ã®è§£æ”¾ã€ç„¡é™ã®å¯èƒ½æ€§ã€é¸æŠã®æ¨©åˆ©ã€ç²¾ç¥çš„ãªé–‹æ”¾æ„Ÿ">
                            <div class="example-title">è‡ªç”±</div>
                            <div class="example-description">è§£æ”¾ã¨å¯èƒ½æ€§</div>
                        </div>
                        <div class="example-card" data-concept="è¨˜æ†¶" data-description="éå»ã®çµŒé¨“ãŒç¾åœ¨ã«å½±éŸ¿ã‚’ä¸ãˆã€æ™‚ã¨ã—ã¦æ›–æ˜§ã«ãªã‚ŠãªãŒã‚‰ã‚‚å¿ƒã®ä¸­ã«æ®‹ã‚Šç¶šã‘ã‚‹">
                            <div class="example-title">è¨˜æ†¶</div>
                            <div class="example-description">éå»ã¨ç¾åœ¨ã®æ©‹æ¸¡ã—</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—2: è¦–è¦šçš„è¦ç´ ã®é¸æŠ -->
            <div class="step-container hidden" id="step2">
                <h2 class="step-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    ã‚¹ãƒ†ãƒƒãƒ— 2: è¦–è¦šçš„è¡¨ç¾æ–¹æ³•ã‚’é¸æŠ
                </h2>
                <p class="step-description">ã‚ãªãŸã®æ¦‚å¿µã«æœ€ã‚‚é©ã—ãŸè¦–è¦šçš„è¡¨ç¾æ–¹æ³•ã‚’é¸ã‚“ã§ãã ã•ã„ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</p>

                <div class="checkbox-group">
                    <label class="checkbox-item">
                        <input type="checkbox" value="geometric" name="visualType">
                        <span>å¹¾ä½•å­¦çš„å›³å½¢</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="organic" name="visualType">
                        <span>æœ‰æ©Ÿçš„ãƒ»è‡ªç„¶çš„å½¢çŠ¶</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="flow" name="visualType">
                        <span>æµå‹•çš„ãƒ»æ¶²ä½“çš„è¡¨ç¾</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="particle" name="visualType">
                        <span>ç²’å­ãƒ»ãƒ‰ãƒƒãƒˆç¾¤</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="wave" name="visualType">
                        <span>æ³¢å‹•ãƒ»æŒ¯å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="network" name="visualType">
                        <span>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»æ¥ç¶šå›³</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="spiral" name="visualType">
                        <span>èºæ—‹ãƒ»æ¸¦å·»ã</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" value="layered" name="visualType">
                        <span>å±¤çŠ¶ãƒ»éšå±¤æ§‹é€ </span>
                    </label>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—3: å‹•ãã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="step-container hidden" id="step3">
                <h2 class="step-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M13,2.05V5.08C16.39,5.57 19,8.47 19,12C19,12.9 18.82,13.75 18.5,14.54L21.12,16.07C21.68,14.83 22,13.45 22,12C22,6.82 18.05,2.55 13,2.05M12,19A7,7 0 0,1 5,12C5,8.47 7.61,5.57 11,5.08V2.05C5.94,2.55 2,6.81 2,12A10,10 0 0,0 12,22C15.3,22 18.23,20.39 20.38,17.92L17.64,16.29C16.29,17.57 14.26,18.43 12,19Z"/>
                    </svg>
                    ã‚¹ãƒ†ãƒƒãƒ— 3: å‹•ãã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©
                </h2>
                <p class="step-description">ã©ã®ã‚ˆã†ãªå‹•ãã‚„å¤‰åŒ–ã§æ¦‚å¿µã‚’è¡¨ç¾ã—ãŸã„ã‹ã‚’é¸æŠã—ã¦ãã ã•ã„</p>

                <div class="form-group">
                    <label class="form-label">å‹•ãã®ã‚¿ã‚¤ãƒ—</label>
                    <select class="form-select" id="animationType">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="continuous">é€£ç¶šçš„ãªå¾ªç’°é‹å‹•</option>
                        <option value="pulsing">è„ˆå‹•ãƒ»ãƒªã‚ºãƒ çš„å¤‰åŒ–</option>
                        <option value="growing">æˆé•·ãƒ»æ‹¡å¤§ã™ã‚‹å‹•ã</option>
                        <option value="transforming">å½¢çŠ¶å¤‰åŒ–ãƒ»å¤‰èº«</option>
                        <option value="interactive">ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã«åå¿œ</option>
                        <option value="reactive">ç’°å¢ƒã‚„æ¡ä»¶ã«å¿œç­”</option>
                        <option value="emergent">è¤‡é›‘ç³»ãƒ»å‰µç™ºçš„ãƒ‘ã‚¿ãƒ¼ãƒ³</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">æ™‚é–“çš„è¦ç´ </label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" value="slow" name="timeAspect">
                            <span>ã‚†ã£ãã‚Šã¨ã—ãŸå¤‰åŒ–</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" value="rhythmic" name="timeAspect">
                            <span>ãƒªã‚ºãƒŸã‚«ãƒ«ãªåå¾©</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" value="sudden" name="timeAspect">
                            <span>çªç„¶ã®å¤‰åŒ–ãƒ»è»¢æ›ç‚¹</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" value="cyclical" name="timeAspect">
                            <span>å‘¨æœŸçš„ãƒ»å­£ç¯€çš„å¤‰åŒ–</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—4: æ„Ÿæƒ…ã¨é›°å›²æ°— -->
            <div class="step-container hidden" id="step4">
                <h2 class="step-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12,17.5C14.33,17.5 16.3,16.04 17.11,14H6.89C7.69,16.04 9.67,17.5 12,17.5M8.5,11A1.5,1.5 0 0,0 10,9.5A1.5,1.5 0 0,0 8.5,8A1.5,1.5 0 0,0 7,9.5A1.5,1.5 0 0,0 8.5,11M15.5,11A1.5,1.5 0 0,0 17,9.5A1.5,1.5 0 0,0 15.5,8A1.5,1.5 0 0,0 14,9.5A1.5,1.5 0 0,0 15.5,11M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/>
                    </svg>
                    ã‚¹ãƒ†ãƒƒãƒ— 4: æ„Ÿæƒ…ã¨é›°å›²æ°—ã‚’è¨­å®š
                </h2>
                <p class="step-description">å¯è¦–åŒ–ã«è¾¼ã‚ãŸã„æ„Ÿæƒ…ã‚„é›°å›²æ°—ã‚’é¸æŠã—ã¦ãã ã•ã„</p>

                <div class="form-group">
                    <label class="form-label">è‰²å½©ã®å°è±¡</label>
                    <select class="form-select" id="colorMood">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="warm">æš–ã‹ã„ï¼ˆèµ¤ã€ã‚ªãƒ¬ãƒ³ã‚¸ã€é»„è‰²ç³»ï¼‰</option>
                        <option value="cool">æ¶¼ã—ã„ï¼ˆé’ã€ç·‘ã€ç´«ç³»ï¼‰</option>
                        <option value="monochrome">ãƒ¢ãƒã‚¯ãƒ­ãƒ»ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«</option>
                        <option value="vibrant">é®®ã‚„ã‹ãƒ»æ´»ç™º</option>
                        <option value="pastel">ãƒ‘ã‚¹ãƒ†ãƒ«ãƒ»ç©ã‚„ã‹</option>
                        <option value="gradient">ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å¤‰åŒ–</option>
                        <option value="natural">è‡ªç„¶è‰²ãƒ»ã‚¢ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">æ„Ÿæƒ…çš„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆè‡ªç”±è¨˜è¿°ï¼‰</label>
                    <input type="text" class="form-input" id="emotionalKeywords" placeholder="ä¾‹: å¸Œæœ›çš„ã€ç¥ç§˜çš„ã€åŠ›å¼·ã„ã€ç¹Šç´°ã€æƒ…ç†±çš„...">
                    <div class="tag-input-container" id="keywordTags"></div>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—5: æŠ€è¡“ä»•æ§˜ -->
            <div class="step-container hidden" id="step5">
                <h2 class="step-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                    </svg>
                    ã‚¹ãƒ†ãƒƒãƒ— 5: æŠ€è¡“ä»•æ§˜ã¨å‡ºåŠ›å½¢å¼
                </h2>
                <p class="step-description">å®Ÿè£…ã™ã‚‹æŠ€è¡“ã¨å‡ºåŠ›å½¢å¼ã‚’é¸æŠã—ã¦ãã ã•ã„</p>

                <div class="form-group">
                    <label class="form-label">å®Ÿè£…æŠ€è¡“</label>
                    <select class="form-select" id="techStack">
                        <option value="html-css">HTML + CSSï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãƒ»è»½é‡ï¼‰</option>
                        <option value="html-css-js">HTML + CSS + JavaScriptï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ï¼‰</option>
                        <option value="svg">SVG ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ™ã‚¯ã‚¿ãƒ¼ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ï¼‰</option>
                        <option value="canvas">HTML5 Canvasï¼ˆè¤‡é›‘ãªæç”»ï¼‰</option>
                        <option value="three-js">Three.jsï¼ˆ3Dè¡¨ç¾ï¼‰</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">å¯¾è±¡ãƒ¬ãƒ™ãƒ«</label>
                    <select class="form-select" id="complexityLevel">
                        <option value="beginner">åˆå¿ƒè€…å‘ã‘ï¼ˆå­¦ç¿’ãƒ»ç†è§£é‡è¦–ï¼‰</option>
                        <option value="intermediate">ä¸­ç´šè€…å‘ã‘ï¼ˆãƒãƒ©ãƒ³ã‚¹é‡è¦–ï¼‰</option>
                        <option value="advanced">ä¸Šç´šè€…å‘ã‘ï¼ˆè¡¨ç¾åŠ›é‡è¦–ï¼‰</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">è¿½åŠ è¦æ±‚ï¼ˆä»»æ„ï¼‰</label>
                    <textarea class="form-textarea" id="additionalRequirements" placeholder="ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã€ç‰¹å®šã®ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œãªã©..."></textarea>
                </div>
            </div>

            <!-- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆçµæœ -->
            <div class="step-container hidden" id="result">
                <h2 class="step-title">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z"/>
                    </svg>
                    ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
                </h2>
                <p class="step-description">ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’Claudeç­‰ã®AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã«å…¥åŠ›ã—ã¦ã€å‹•çš„ãªå¯è¦–åŒ–ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„</p>

                <div class="prompt-output">
                    <div class="prompt-text" id="generatedPrompt"></div>
                    <button class="copy-button" onclick="copyPrompt()">ğŸ“‹ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
                </div>
            </div>

            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
            <div class="navigation-buttons">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()" disabled>
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"/>
                    </svg>
                    å‰ã¸
                </button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                    æ¬¡ã¸
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;
        const keywords = [];

        // ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†
        function showStep(step) {
            // å…¨ã‚¹ãƒ†ãƒƒãƒ—ã‚’éè¡¨ç¤º
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step${i}`).classList.add('hidden');
            }
            document.getElementById('result').classList.add('hidden');
            
            // æŒ‡å®šã‚¹ãƒ†ãƒƒãƒ—ã‚’è¡¨ç¤º
            const targetStep = step <= totalSteps ? `step${step}` : 'result';
            document.getElementById(targetStep).classList.remove('hidden');
            document.getElementById(targetStep).classList.add('fade-in');
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            const progress = (step / totalSteps) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            
            // ãƒœã‚¿ãƒ³çŠ¶æ…‹æ›´æ–°
            document.getElementById('prevBtn').disabled = step === 1;
            document.getElementById('nextBtn').textContent = step >= totalSteps ? 'ç”Ÿæˆ' : 'æ¬¡ã¸';
            document.getElementById('nextBtn').innerHTML = step >= totalSteps ? 
                `ç”Ÿæˆ <svg class="icon" viewBox="0 0 24 24"><path d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z"/></svg>` : 
                `æ¬¡ã¸ <svg class="icon" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg>`;
        }

        function nextStep() {
            if (currentStep >= totalSteps) {
                generatePrompt();
                showStep(totalSteps + 1);
            } else {
                currentStep++;
                showStep(currentStep);
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        // ä¾‹ã®æ¦‚å¿µé¸æŠ
        document.querySelectorAll('.example-card').forEach(card => {
            card.addEventListener('click', function() {
                const concept = this.dataset.concept;
                const description = this.dataset.description;
                document.getElementById('mainConcept').value = concept;
                document.getElementById('conceptDescription').value = description;
                
                // é¸æŠçŠ¶æ…‹ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
                document.querySelectorAll('.example-card').forEach(c => c.style.opacity = '0.7');
                this.style.opacity = '1';
            });
        });

        // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚¿ã‚°æ©Ÿèƒ½
        document.getElementById('emotionalKeywords').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value.trim()) {
                addKeywordTag(this.value.trim());
                this.value = '';
            }
        });

        function addKeywordTag(keyword) {
            if (keywords.includes(keyword)) return;
            
            keywords.push(keyword);
            const container = document.getElementById('keywordTags');
            const tag = document.createElement('div');
            tag.className = 'tag';
            tag.innerHTML = `
                ${keyword}
                <button class="tag-remove" onclick="removeKeywordTag('${keyword}')">&times;</button>
            `;
            container.appendChild(tag);
        }

        function removeKeywordTag(keyword) {
            const index = keywords.indexOf(keyword);
            if (index > -1) {
                keywords.splice(index, 1);
                document.getElementById('keywordTags').innerHTML = '';
                keywords.forEach(kw => addKeywordTag(kw));
            }
        }

        // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
        function generatePrompt() {
            const data = {
                concept: document.getElementById('mainConcept').value,
                description: document.getElementById('conceptDescription').value,
                visualTypes: Array.from(document.querySelectorAll('input[name="visualType"]:checked')).map(cb => cb.value),
                animationType: document.getElementById('animationType').value,
                timeAspects: Array.from(document.querySelectorAll('input[name="timeAspect"]:checked')).map(cb => cb.value),
                colorMood: document.getElementById('colorMood').value,
                emotionalKeywords: keywords,
                techStack: document.getElementById('techStack').value,
                complexity: document.getElementById('complexityLevel').value,
                additional: document.getElementById('additionalRequirements').value
            };

            const prompt = createDetailedPrompt(data);
            document.getElementById('generatedPrompt').textContent = prompt;
        }

        function createDetailedPrompt(data) {
            let prompt = `ã€Œ${data.concept}ã€ã®æ¦‚å¿µã‚’å‹•çš„ãªã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã§å¯è¦–åŒ–ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€æ¦‚å¿µã®è©³ç´°ã€‘
${data.description}

ã€è¦–è¦šçš„è¡¨ç¾ã€‘
`;

            if (data.visualTypes.length > 0) {
                prompt += `- ä½¿ç”¨ã™ã‚‹è¦–è¦šè¦ç´ : ${data.visualTypes.join('ã€')}\n`;
            }

            if (data.animationType) {
                prompt += `- å‹•ãã®ã‚¿ã‚¤ãƒ—: ${data.animationType}\n`;
            }

            if (data.timeAspects.length > 0) {
                prompt += `- æ™‚é–“çš„è¦ç´ : ${data.timeAspects.join('ã€')}\n`;
            }

            if (data.colorMood) {
                prompt += `- è‰²å½©è¨­è¨ˆ: ${data.colorMood}\n`;
            }

            if (data.emotionalKeywords.length > 0) {
                prompt += `- æ„Ÿæƒ…çš„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: ${data.emotionalKeywords.join('ã€')}\n`;
            }

            prompt += `
ã€æŠ€è¡“ä»•æ§˜ã€‘
- å®Ÿè£…æŠ€è¡“: ${data.techStack}
- è¤‡é›‘åº¦ãƒ¬ãƒ™ãƒ«: ${data.complexity}
`;

            if (data.additional) {
                prompt += `- è¿½åŠ è¦æ±‚: ${data.additional}\n`;
            }

            prompt += `
ã€æœŸå¾…ã™ã‚‹æˆæœç‰©ã€‘
1. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã§ç¾ã—ã„å‹•çš„ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
2. æ¦‚å¿µã®æœ¬è³ªã‚’ç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹è¦–è¦šè¡¨ç¾
3. æ•™è‚²ç¾å ´ã§æ´»ç”¨ã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã®å®Œæˆåº¦
4. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã§æ§˜ã€…ãªãƒ‡ãƒã‚¤ã‚¹ã§å‹•ä½œ
5. ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨æ‹¡å¼µæ€§ã‚’é‡è¦–

ã€é‡è¦ãªè¦³ç‚¹ã€‘
- æ¦‚å¿µã®æŠ½è±¡æ€§ã‚’å…·ä½“çš„ãªè¦–è¦šä½“é¨“ã«å¤‰æ›
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¦‚å¿µã«ã¤ã„ã¦æ–°ãŸãªæ°—ã¥ãã‚’å¾—ã‚‰ã‚Œã‚‹è¡¨ç¾
- ç¾çš„ä¾¡å€¤ã¨æ•™è‚²çš„ä¾¡å€¤ã®ä¸¡ç«‹
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹ç†è§£ã®æ·±åŒ–

ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«åŸºã¥ã„ã¦ã€å‰µé€ çš„ã§æ•™è‚²çš„ä¾¡å€¤ã®é«˜ã„å¯è¦–åŒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚`;

            return prompt;
        }

        function copyPrompt() {
            const promptText = document.getElementById('generatedPrompt').textContent;
            navigator.clipboard.writeText(promptText).then(() => {
                const button = document.querySelector('.copy-button');
                const originalText = button.textContent;
                button.textContent = 'âœ… ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        // å®Ÿä¾‹ãƒ‡ãƒ¢é–¢é€£ã®é–¢æ•°
        function hideLoadingSpinner() {
            const loading = document.getElementById('demoLoading');
            const iframe = document.getElementById('demoIframe');
            
            if (loading) {
                loading.style.display = 'none';
            }
            if (iframe) {
                iframe.style.opacity = '1';
            }
        }

        // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
        function handleDemoError() {
            const loading = document.getElementById('demoLoading');
            const iframe = document.getElementById('demoIframe');
            
            if (loading) {
                loading.innerHTML = `
                    <div style="color: var(--warning-color);">
                        âš ï¸ å®Ÿä¾‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ
                    </div>
                    <div style="font-size: 0.8rem; margin-top: 0.5rem;">
                        ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„
                    </div>
                `;
            }
            if (iframe) {
                iframe.style.display = 'none';
            }
        }

        // ãƒ‡ãƒ¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
        function initializeDemoSection() {
            const iframe = document.getElementById('demoIframe');
            if (iframe) {
                // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ10ç§’å¾Œï¼‰
                setTimeout(() => {
                    if (iframe.style.opacity === '0') {
                        handleDemoError();
                    }
                }, 10000);

                // ã‚¨ãƒ©ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
                iframe.onerror = handleDemoError;
            }
        }

        // åˆæœŸåŒ–
        showStep(1);
        initializeDemoSection();
    </script>
</body>
</html>
